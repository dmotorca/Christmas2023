<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Christmas Gift 2023</title>

    <!-- Bootstrap CSS (you can replace this link with your preferred Bootstrap version) -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <style>
      body {
        background-color: #e0f7fa; /* Light Blue - Background Color */
        color: #004d40; /* Dark Teal - Text Color */
      }

      .container {
        margin-top: 30px;
      }

      label {
        font-weight: bold;
        color: #004d40; /* Dark Teal - Text Color */
      }

      button {
        margin-top: 10px;
      }

      strong {
        font-weight: bold;
      }

      /* Add your additional styling here */
    </style>
  </head>
  <body>
    <div id="verification-section">
      <h2 class="text-center">Verification Question</h2>
      <p>True or False: Does Jaxon have a big toe?</p>
      <select class="form-select" id="verificationAnswer">
        <option value="" disabled selected>Select an option</option>
        <option value="true">True</option>
        <option value="false">False</option>
      </select>
      <button class="btn btn-primary" onclick="verifyVerificationAnswer()">
        Verify
      </button>
    </div>

    <!-- Quiz Section (Hidden initially) -->
    <div id="quiz-section" style="display: none">
      <div id="questions-container">
        <div>
          <label>When is my birthday?</label>
          <input type="date" class="form-control" id="answer1" required />
          <span id="result1"></span><br /><br />
        </div>

        <div>
          <label>Am I right-handed or left-handed?</label>
          <select class="form-select" id="answer2" required>
            <option value="" disabled selected>Select an option</option>
            <option value="right-handed">Right-handed</option>
            <option value="left-handed">Left-handed</option>
          </select>
          <span id="result2"></span><br /><br />
        </div>

        <div>
          <label>How tall am I?</label>
          <select class="form-select" id="answer3" required>
            <option value="" disabled selected>Select an option</option>
            <option value="5ft-10in">5ft 10in</option>
            <option value="5ft-11in">5ft 11in</option>
            <option value="6ft-0in">6ft 0in</option>
          </select>
          <span id="result3"></span><br /><br />
        </div>

        <div>
          <label>What is my favorite video game?</label>
          <select class="form-select" id="answer4" required>
            <option value="" disabled selected>Select an option</option>
            <option value="League-of-Legends">League of Legends</option>
            <option value="Call-of-Duty">Call of Duty</option>
            <option value="Minecraft">Minecraft</option>
          </select>
          <span id="result4"></span><br /><br />
        </div>

        <div>
          <label>What is my favorite color?</label>
          <select class="form-select" id="answer5" required>
            <option value="" disabled selected>Select an option</option>
            <option value="Blue">Blue</option>
            <option value="Green">Green</option>
            <option value="Purple">Purple</option>
          </select>
          <span id="result5"></span><br /><br />
        </div>

        <div>
          <label
            >Write down below, what one of your most memorable moments with me
            has been.</label
          >
          <input type="text" class="form-control" id="answer6" required />
          <span id="result6"></span><br /><br />
        </div>
      </div>

      <!-- Submit and Reset buttons with Bootstrap styling -->
      <div class="text-center">
        <button class="btn btn-primary" onclick="submitAnswers()">
          Submit
        </button>
        <button class="btn btn-secondary" onclick="resetAnswers()">
          Reset
        </button>
      </div>
    </div>

    <!-- Bootstrap JS and Popper.js (required for Bootstrap components) -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>

    <script>
      const verificationQuestion = 'Does Jaxon have a big toe?';
      const correctVerificationAnswer = 'true'; // The correct answer is 'True'.

      function verifyVerificationAnswer() {
        const verificationAnswer = document
          .getElementById('verificationAnswer')
          .value.trim()
          .toLowerCase();

        if (verificationAnswer === correctVerificationAnswer) {
          // If the verification is successful, show the quiz section.
          showQuizSection();
        } else {
          // If the verification fails, you can handle it (e.g., show an alert).
          alert('Verification failed. Please try again.');
        }
      }

      function showQuizSection() {
        document.getElementById('verification-section').style.display = 'none';
        document.getElementById('quiz-section').style.display = 'block';
      }

      function createQuestionElement(question, index) {
        const questionElement = document.createElement('div');
        questionElement.innerHTML = `
        <label>${question}</label>
        <input type="text" id="answer${index + 1}" required>
        <span id="result${index + 1}"></span><br><br>
      `;
        return questionElement;
      }

      const answers = [
        '2001-03-04',
        'right-handed',
        '5ft-11in',
        'League-of-Legends',
        'Green',
        '',
      ];

      function createQuestionElement(question, index) {
        const questionElement = document.createElement('div');
        questionElement.innerHTML = `
        <label>${question}</label>
        <input type="text" class="form-control" id="answer${
          index + 1
        }" required>
        <span id="result${index + 1}"></span><br><br>
    `;
        return questionElement;
      }
      function submitAnswers() {
        const userProvidedAnswers = [];
        for (let i = 0; i < answers.length; i++) {
          const answerElement = document.getElementById(`answer${i + 1}`);
          const answer = answerElement.value.trim();
          userProvidedAnswers.push(answer);
        }

        // Verify user answers
        const verificationResults = verifyAnswers(userProvidedAnswers);

        // Display results
        for (let i = 0; i < verificationResults.length - 1; i++) {
          const resultElement = document.getElementById(`result${i + 1}`);
          const correctnessText = verificationResults[i]
            ? 'Correct'
            : 'Incorrect';
          resultElement.innerHTML = `<strong style="color: ${
            verificationResults[i] ? 'green' : 'red'
          }">${correctnessText}</strong>`;
        }

        // Check if all answers are correct
        const allCorrect = verificationResults.every((result) => result);

        // If all answers are correct, navigate to the reward page
        if (allCorrect) {
          window.location.href = 'reward.html';
        }
      }

      function resetAnswers() {
        for (let i = 0; i < answers.length; i++) {
          const answerElement = document.getElementById(`answer${i + 1}`);
          answerElement.value = '';
          const resultElement = document.getElementById(`result${i + 1}`);
          resultElement.innerHTML = '';
        }
      }

      function verifyAnswers(userAnswers) {
        const results = [];
        for (let i = 0; i < answers.length; i++) {
          const userAnswer = userAnswers[i];
          const correctAnswer = answers[i];

          if (i === 0) {
            const userDate = formatDate(new Date(userAnswer));
            const correctDate = formatDate(new Date(correctAnswer));
            results.push(userDate === correctDate);
          } else {
            results.push(userAnswer === correctAnswer || correctAnswer === '');
          }
        }

        return results;
      }

      function formatDate(date) {
        const options = { year: 'numeric', month: '2-digit', day: '2-digit' };
        return date.toLocaleDateString('en-US', options);
      }
    </script>
  </body>
</html>
